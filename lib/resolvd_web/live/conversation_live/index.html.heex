<div class="flex flex-shrink-0 w-96 py-4 overflow-hidden pb-0 bg-gray-100">
  <div class="flex flex-col h-full pt-4 w-full">
    <div class="flex items-center px-4">
      <div class="flex items-center">
        <div class="text-xl font-semibold"><%= @heading %></div>
        <div class="hidden flex items-center justify-center ml-2 text-xs h-5 w-5 text-white bg-red-500 rounded-full font-medium">
          9+
        </div>
      </div>
      <div class="hidden ml-auto">
        <button class="flex items-center justify-center h-7 w-7 bg-gray-200 text-gray-500 rounded-full">
          <.icon name="hero-magnifying-glass" class="h-4 w-4" />
        </button>
      </div>
    </div>

    <ResolvdWeb.ConversationLive.Components.conversation_categories live_action={@live_action} />

    <div class="mt-5 pb-2 px-4">
      <div class="text-xs text-gray-400 font-semibold">Mailbox One</div>
    </div>
    <ResolvdWeb.ConversationLive.Components.conversation_list
      conversations={@streams.conversations}
      conversation={@conversation}
      socket={@socket}
      live_action={@live_action}
    />
  </div>
</div>

<.live_component
  :if={not is_nil(@conversation)}
  module={ResolvdWeb.ConversationLive.ShowMessage}
  title={@page_title}
  id="show_conversation"
  users={@users}
  mailboxes={@mailboxes}
  message={@message}
  current_user={@current_user}
  conversation={@conversation}
  messages={@streams.messages}
/>
